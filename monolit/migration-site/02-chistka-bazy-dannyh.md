# 2. –ß–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Ñ–∞–π–ª–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—á–∏—Å—Ç–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ª–∏—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

> ‚ö†Ô∏è **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö!**

> üí° **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞.

## –†–µ—Å—É—Ä—Å—ã

–û—á–∏—Å—Ç–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.

### –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º

–£–¥–∞–ª—è–µ–º –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –Ω—É–∂–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º.

> ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—à–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º!

```sql
DELETE FROM modx_site_content 
WHERE context_key NOT IN ('tizol','beltep','baswool','xotpipe','isotecti','ruspanel')
```

### –¢–æ–≤–∞—Ä—ã

–£–¥–∞–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.

```sql
DELETE FROM modx_ms2_products 
WHERE id NOT IN (SELECT id FROM modx_site_content)
```

### TV (Template Variables)

–û—á–∏—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è TV-–ø–æ–ª–µ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.

```sql
DELETE FROM modx_site_tmplvar_contentvalues 
WHERE contentid NOT IN (SELECT id FROM modx_site_content)
```

### –û–ø—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤

–£–¥–∞–ª—è–µ–º –æ–ø—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤.

```sql
DELETE FROM modx_ms2_product_options 
WHERE product_id NOT IN (SELECT id FROM modx_site_content)
```

### –û–ø—Ü–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

–£–¥–∞–ª—è–µ–º –æ–ø—Ü–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

```sql
DELETE FROM modx_ms2_category_options 
WHERE category_id NOT IN (SELECT id FROM modx_site_content)
```

### Products INTRO

–û—á–∏—â–∞–µ–º –∏–Ω—Ç—Ä–æ—Ç–µ–∫—Å—Ç—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.

```sql
DELETE FROM modx_mse2_intro 
WHERE resource NOT IN (SELECT id FROM modx_site_content)
```

### –ì–∞–ª–µ—Ä–µ–∏ —Ç–æ–≤–∞—Ä–æ–≤

–£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª—ã –≥–∞–ª–µ—Ä–µ–π –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤.

```sql
DELETE FROM modx_ms2_product_files 
WHERE product_id NOT IN (SELECT id FROM modx_site_content)
```

## –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã

> ‚ö†Ô∏è **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –ù–µ —Ç—Ä–æ–≥–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã **mgr** –∏ **web**! –û–Ω–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

### –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ:

#### 1. –õ–∏—à–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã

```sql
DELETE FROM modx_context 
WHERE `key` NOT IN ('web','mgr','tizol','beltep','baswool','xotpipe','isotecti','ruspanel')
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

```sql
DELETE FROM modx_context_setting 
WHERE context_key NOT IN ('web','mgr','tizol','beltep','baswool','xotpipe','isotecti','ruspanel')
```

#### 3. –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

```sql
DELETE FROM modx_access_context 
WHERE `target` NOT IN ('web','mgr','tizol','beltep','baswool','xotpipe','isotecti','ruspanel')
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–º—É
- [ ] –í—Å–µ –Ω—É–∂–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã `mgr` –∏ `web` –Ω–µ —É–¥–∞–ª–µ–Ω—ã
- [ ] –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (TV, –æ–ø—Ü–∏–∏, –≥–∞–ª–µ—Ä–µ–∏) –æ—á–∏—â–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
